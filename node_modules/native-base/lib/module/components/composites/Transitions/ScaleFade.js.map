{"version":3,"sources":["ScaleFade.tsx"],"names":["React","Box","useThemeProps","Animated","Platform","canUseDom","ScaleFade","children","props","isDomUsable","in","animationState","duration","initialScale","fadeAnim","useRef","Value","current","scaleAnim","fadeIn","timing","toValue","useNativeDriver","OS","start","fadeOut","scaleIn","scaleOut","opacity","transform","scale","memo"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,GAAP,MAAgB,sBAAhB;AACA,SAASC,aAAT,QAA8B,8BAA9B;AACA,SAASC,QAAT,EAAmBC,QAAnB,QAAmC,cAAnC;AAEA,SAASC,SAAT,QAA0B,gBAA1B;;AAEA,MAAMC,SAAS,GAAG,CAAC;AAAEC,EAAAA,QAAF;AAAY,KAAGC;AAAf,CAAD,KAA6C;AAC7D,QAAMC,WAAW,GAAGJ,SAAS,EAA7B;AACA,QAAM;AAAEK,IAAAA,EAAE,EAAEC,cAAN;AAAsBC,IAAAA,QAAtB;AAAgCC,IAAAA;AAAhC,MAAiDX,aAAa,CAClE,WADkE,EAElEM,KAFkE,CAApE;AAIA,QAAMM,QAAQ,GAAGd,KAAK,CAACe,MAAN,CAAa,IAAIZ,QAAQ,CAACa,KAAb,CAAmB,CAAnB,CAAb,EAAoCC,OAArD;AACA,QAAMC,SAAS,GAAGlB,KAAK,CAACe,MAAN,CAAa,IAAIZ,QAAQ,CAACa,KAAb,CAAmBH,YAAnB,CAAb,EAA+CI,OAAjE;;AAEA,QAAME,MAAM,GAAG,MAAM;AACnB,QAAIV,WAAJ,EAAiB;AACfN,MAAAA,QAAQ,CAACiB,MAAT,CAAgBN,QAAhB,EAA0B;AACxBO,QAAAA,OAAO,EAAE,CADe;AAExBT,QAAAA,QAAQ,EAAEA,QAFc;AAGxBU,QAAAA,eAAe,EAAElB,QAAQ,CAACmB,EAAT,KAAgB;AAHT,OAA1B,EAIGC,KAJH;AAKD;AACF,GARD;;AASA,QAAMC,OAAO,GAAG,MAAM;AACpB,QAAIhB,WAAJ,EAAiB;AACfN,MAAAA,QAAQ,CAACiB,MAAT,CAAgBN,QAAhB,EAA0B;AACxBO,QAAAA,OAAO,EAAE,CADe;AAExBT,QAAAA,QAAQ,EAAEA,QAFc;AAGxBU,QAAAA,eAAe,EAAElB,QAAQ,CAACmB,EAAT,KAAgB;AAHT,OAA1B,EAIGC,KAJH;AAKD;AACF,GARD;;AASA,QAAME,OAAO,GAAG,MAAM;AACpB,QAAIjB,WAAJ,EAAiB;AACfN,MAAAA,QAAQ,CAACiB,MAAT,CAAgBF,SAAhB,EAA2B;AACzBG,QAAAA,OAAO,EAAE,CADgB;AAEzBT,QAAAA,QAAQ,EAAEA,QAFe;AAGzBU,QAAAA,eAAe,EAAElB,QAAQ,CAACmB,EAAT,KAAgB;AAHR,OAA3B,EAIGC,KAJH;AAKD;AACF,GARD;;AASA,QAAMG,QAAQ,GAAG,MAAM;AACrB,QAAIlB,WAAJ,EAAiB;AACfN,MAAAA,QAAQ,CAACiB,MAAT,CAAgBF,SAAhB,EAA2B;AACzBG,QAAAA,OAAO,EAAER,YADgB;AAEzBD,QAAAA,QAAQ,EAAEA,QAFe;AAGzBU,QAAAA,eAAe,EAAElB,QAAQ,CAACmB,EAAT,KAAgB;AAHR,OAA3B,EAIGC,KAJH;AAKD;AACF,GARD;;AAUA,MAAIb,cAAJ,EAAoB;AAClBQ,IAAAA,MAAM;AACNO,IAAAA,OAAO;AACR,GAHD,MAGO;AACLD,IAAAA,OAAO;AACPE,IAAAA,QAAQ;AACT;;AACD,sBACE,oBAAC,QAAD,CAAU,IAAV;AACE,IAAA,KAAK,EAAE;AAAEC,MAAAA,OAAO,EAAEd,QAAX;AAAqBe,MAAAA,SAAS,EAAE,CAAC;AAAEC,QAAAA,KAAK,EAAEZ;AAAT,OAAD;AAAhC;AADT,kBAGE,oBAAC,GAAD,EAASV,KAAT,CAHF,EAIGD,QAJH,CADF;AAQD,CA7DD;;AA+DA,4BAAeP,KAAK,CAAC+B,IAAN,CAAWzB,SAAX,CAAf","sourcesContent":["import React from 'react';\nimport Box from '../../primitives/Box';\nimport { useThemeProps } from '../../../hooks/useThemeProps';\nimport { Animated, Platform } from 'react-native';\nimport type { IScaleFadeProps } from './types';\nimport { canUseDom } from '../../../utils';\n\nconst ScaleFade = ({ children, ...props }: IScaleFadeProps) => {\n  const isDomUsable = canUseDom();\n  const { in: animationState, duration, initialScale } = useThemeProps(\n    'ScaleFade',\n    props\n  );\n  const fadeAnim = React.useRef(new Animated.Value(0)).current;\n  const scaleAnim = React.useRef(new Animated.Value(initialScale)).current;\n\n  const fadeIn = () => {\n    if (isDomUsable) {\n      Animated.timing(fadeAnim, {\n        toValue: 1,\n        duration: duration,\n        useNativeDriver: Platform.OS !== 'web',\n      }).start();\n    }\n  };\n  const fadeOut = () => {\n    if (isDomUsable) {\n      Animated.timing(fadeAnim, {\n        toValue: 0,\n        duration: duration,\n        useNativeDriver: Platform.OS !== 'web',\n      }).start();\n    }\n  };\n  const scaleIn = () => {\n    if (isDomUsable) {\n      Animated.timing(scaleAnim, {\n        toValue: 1,\n        duration: duration,\n        useNativeDriver: Platform.OS !== 'web',\n      }).start();\n    }\n  };\n  const scaleOut = () => {\n    if (isDomUsable) {\n      Animated.timing(scaleAnim, {\n        toValue: initialScale,\n        duration: duration,\n        useNativeDriver: Platform.OS !== 'web',\n      }).start();\n    }\n  };\n\n  if (animationState) {\n    fadeIn();\n    scaleIn();\n  } else {\n    fadeOut();\n    scaleOut();\n  }\n  return (\n    <Animated.View\n      style={{ opacity: fadeAnim, transform: [{ scale: scaleAnim }] }}\n    >\n      <Box {...props} />\n      {children}\n    </Animated.View>\n  );\n};\n\nexport default React.memo(ScaleFade);\n"]}